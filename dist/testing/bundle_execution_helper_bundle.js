'use strict';
var ar=Object.create,I=Object.defineProperty,nr=Object.getPrototypeOf,ir=Object.prototype.hasOwnProperty,or=Object.getOwnPropertyNames,sr=Object.getOwnPropertyDescriptor;var ce=e=>I(e,"__esModule",{value:!0});var F=(e,r)=>()=>(r||(r={exports:{}},e(r.exports,r)),r.exports),cr=(e,r)=>{for(var a in r)I(e,a,{get:r[a],enumerable:!0})},mr=(e,r,a)=>{if(r&&typeof r=="object"||typeof r=="function")for(let t of or(r))!ir.call(e,t)&&t!=="default"&&I(e,t,{get:()=>r[t],enumerable:!(a=sr(r,t))||a.enumerable});return e},R=e=>mr(ce(I(e!=null?ar(nr(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var pe=F((ht,fe)=>{var ur=e=>e[0].toLocaleUpperCase()+e.slice(1);fe.exports=e=>{if(e==null||typeof e.toString!="function")return"";let r=e.toString().trim();if(r==="")return"";if(r.length===1)return r.toLocaleUpperCase();let a=r.match(/[a-zA-Z0-9]+/g);return a?a.map(t=>ur(t)).join(""):r}});var Te=F((vt,U)=>{var pr=function(){"use strict";function e(f,s){return s!=null&&f instanceof s}var r;try{r=Map}catch(f){r=function(){}}var a;try{a=Set}catch(f){a=function(){}}var t;try{t=Promise}catch(f){t=function(){}}function n(f,s,y,T,h){typeof s=="object"&&(y=s.depth,T=s.prototype,h=s.includeNonEnumerable,s=s.circular);var d=[],M=[],k=typeof Buffer!="undefined";typeof s=="undefined"&&(s=!0),typeof y=="undefined"&&(y=Infinity);function S(p,x){if(p===null)return null;if(x===0)return p;var l,v;if(typeof p!="object")return p;if(e(p,r))l=new r;else if(e(p,a))l=new a;else if(e(p,t))l=new t(function(L,H){p.then(function(q){L(S(q,x-1))},function(q){H(S(q,x-1))})});else if(n.__isArray(p))l=[];else if(n.__isRegExp(p))l=new RegExp(p.source,m(p)),p.lastIndex&&(l.lastIndex=p.lastIndex);else if(n.__isDate(p))l=new Date(p.getTime());else{if(k&&Buffer.isBuffer(p))return Buffer.allocUnsafe?l=Buffer.allocUnsafe(p.length):l=new Buffer(p.length),p.copy(l),l;e(p,Error)?l=Object.create(p):typeof T=="undefined"?(v=Object.getPrototypeOf(p),l=Object.create(v)):(l=Object.create(T),v=T)}if(s){var A=d.indexOf(p);if(A!=-1)return M[A];d.push(p),M.push(l)}e(p,r)&&p.forEach(function(L,H){var q=S(H,x-1),tr=S(L,x-1);l.set(q,tr)}),e(p,a)&&p.forEach(function(L){var H=S(L,x-1);l.add(H)});for(var O in p){var G;v&&(G=Object.getOwnPropertyDescriptor(v,O)),!(G&&G.set==null)&&(l[O]=S(p[O],x-1))}if(Object.getOwnPropertySymbols)for(var oe=Object.getOwnPropertySymbols(p),O=0;O<oe.length;O++){var K=oe[O],N=Object.getOwnPropertyDescriptor(p,K);N&&!N.enumerable&&!h||(l[K]=S(p[K],x-1),N.enumerable||Object.defineProperty(l,K,{enumerable:!1}))}if(h)for(var se=Object.getOwnPropertyNames(p),O=0;O<se.length;O++){var z=se[O],N=Object.getOwnPropertyDescriptor(p,z);N&&N.enumerable||(l[z]=S(p[z],x-1),Object.defineProperty(l,z,{enumerable:!1}))}return l}return S(f,y)}n.clonePrototype=function(s){if(s===null)return null;var y=function(){};return y.prototype=s,new y};function o(f){return Object.prototype.toString.call(f)}n.__objToStr=o;function i(f){return typeof f=="object"&&o(f)==="[object Date]"}n.__isDate=i;function c(f){return typeof f=="object"&&o(f)==="[object Array]"}n.__isArray=c;function u(f){return typeof f=="object"&&o(f)==="[object RegExp]"}n.__isRegExp=u;function m(f){var s="";return f.global&&(s+="g"),f.ignoreCase&&(s+="i"),f.multiline&&(s+="m"),s}return n.__getRegExpFlags=m,n}();typeof U=="object"&&U.exports&&(U.exports=pr)});var be=F((jt,xe)=>{var lr=/\{([0-9a-zA-Z_]+)\}/g;xe.exports=yr;function yr(e){var r;if(arguments.length===2&&typeof arguments[1]=="object")r=arguments[1];else{r=new Array(arguments.length-1);for(var a=1;a<arguments.length;++a)r[a-1]=arguments[a]}return(!r||!r.hasOwnProperty)&&(r={}),e.replace(lr,function(n,o,i){var c;return e[i-1]==="{"&&e[i+n.length]==="}"?o:(c=r.hasOwnProperty(o)?r[o]:null,c??"")})}});var Fe=F((wt,Se)=>{var W=be(),dr=/["'\\\n\r\u2028\u2029]/g,Pe=/\{[0-9a-zA-Z]+\}/g,hr=`    var args
    var result
    if (arguments.length === 1 && typeof arguments[0] === "object") {
        args = arguments[0]
    } else {
        args = arguments    }

    if (!args || !("hasOwnProperty" in args)) {
       args = {}
    }

    return {0}`,gr='"{0}"',Tr=`(result = args.hasOwnProperty("{0}") ? args["{0}"] : null, 
        (result === null || result === undefined) ? "" : result)`;Se.exports=xr;function xr(e,r){for(var a=e.match(Pe)||[],t=e.split(Pe),n=[],o=0;o<t.length;o++){var i=t[o],c=a[o],u=i.charAt(i.length-1),m=(t[o+1]||"").charAt(0);c&&(c=c.substring(1,c.length-1)),u==="{"&&m==="}"?n.push(i+c):(n.push(i),c&&n.push({name:c}))}for(var f=[""],s=0;s<n.length;s++){var y=n[s];if(String(y)===y){var T=f[f.length-1];String(T)===T?f[f.length-1]=T+y:f.push(y)}else f.push(y)}if(n=f,r){for(var h=0;h<n.length;h++){var d=n[h];String(d)===d?n[h]=W(gr,Oe(d)):n[h]=W(Tr,Oe(d.name))}var M=n.join(` +
    `),k=W(hr,M);return new Function(k)}return function(){var p;arguments.length===1&&typeof arguments[0]=="object"?p=arguments[0]:p=arguments,(!p||!("hasOwnProperty"in p))&&(p={});for(var x=[],l=0;l<n.length;l++)if(l%2==0)x.push(n[l]);else{var v=n[l].name,A=p.hasOwnProperty(v)?p[v]:null;(A!==null||A!==void 0)&&x.push(A)}return x.join("")}}function Oe(e){return e=""+e,e.replace(dr,br)}function br(e){switch(e){case'"':case"'":case"\\":return"\\"+e;case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}}});var $=F((Dt,ve)=>{"use strict";var Sr=String.prototype.replace,Pr=/%20/g,J={RFC1738:"RFC1738",RFC3986:"RFC3986"};ve.exports={default:J.RFC3986,formatters:{RFC1738:function(e){return Sr.call(e,Pr,"+")},RFC3986:function(e){return String(e)}},RFC1738:J.RFC1738,RFC3986:J.RFC3986}});var Z=F((At,je)=>{"use strict";var Or=$(),Y=Object.prototype.hasOwnProperty,E=Array.isArray,w=function(){for(var e=[],r=0;r<256;++r)e.push("%"+((r<16?"0":"")+r.toString(16)).toUpperCase());return e}(),Fr=function(r){for(;r.length>1;){var a=r.pop(),t=a.obj[a.prop];if(E(t)){for(var n=[],o=0;o<t.length;++o)typeof t[o]!="undefined"&&n.push(t[o]);a.obj[a.prop]=n}}},we=function(r,a){for(var t=a&&a.plainObjects?Object.create(null):{},n=0;n<r.length;++n)typeof r[n]!="undefined"&&(t[n]=r[n]);return t},vr=function e(r,a,t){if(!a)return r;if(typeof a!="object"){if(E(r))r.push(a);else if(r&&typeof r=="object")(t&&(t.plainObjects||t.allowPrototypes)||!Y.call(Object.prototype,a))&&(r[a]=!0);else return[r,a];return r}if(!r||typeof r!="object")return[r].concat(a);var n=r;return E(r)&&!E(a)&&(n=we(r,t)),E(r)&&E(a)?(a.forEach(function(o,i){if(Y.call(r,i)){var c=r[i];c&&typeof c=="object"&&o&&typeof o=="object"?r[i]=e(c,o,t):r.push(o)}else r[i]=o}),r):Object.keys(a).reduce(function(o,i){var c=a[i];return Y.call(o,i)?o[i]=e(o[i],c,t):o[i]=c,o},n)},jr=function(r,a){return Object.keys(a).reduce(function(t,n){return t[n]=a[n],t},r)},wr=function(e,r,a){var t=e.replace(/\+/g," ");if(a==="iso-8859-1")return t.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(t)}catch(n){return t}},Dr=function(r,a,t,n,o){if(r.length===0)return r;var i=r;if(typeof r=="symbol"?i=Symbol.prototype.toString.call(r):typeof r!="string"&&(i=String(r)),t==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});for(var c="",u=0;u<i.length;++u){var m=i.charCodeAt(u);if(m===45||m===46||m===95||m===126||m>=48&&m<=57||m>=65&&m<=90||m>=97&&m<=122||o===Or.RFC1738&&(m===40||m===41)){c+=i.charAt(u);continue}if(m<128){c=c+w[m];continue}if(m<2048){c=c+(w[192|m>>6]+w[128|m&63]);continue}if(m<55296||m>=57344){c=c+(w[224|m>>12]+w[128|m>>6&63]+w[128|m&63]);continue}u+=1,m=65536+((m&1023)<<10|i.charCodeAt(u)&1023),c+=w[240|m>>18]+w[128|m>>12&63]+w[128|m>>6&63]+w[128|m&63]}return c},Ar=function(r){for(var a=[{obj:{o:r},prop:"o"}],t=[],n=0;n<a.length;++n)for(var o=a[n],i=o.obj[o.prop],c=Object.keys(i),u=0;u<c.length;++u){var m=c[u],f=i[m];typeof f=="object"&&f!==null&&t.indexOf(f)===-1&&(a.push({obj:i,prop:m}),t.push(f))}return Fr(a),r},kr=function(r){return Object.prototype.toString.call(r)==="[object RegExp]"},Er=function(r){return!r||typeof r!="object"?!1:!!(r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer(r))},_r=function(r,a){return[].concat(r,a)},Mr=function(r,a){if(E(r)){for(var t=[],n=0;n<r.length;n+=1)t.push(a(r[n]));return t}return a(r)};je.exports={arrayToObject:we,assign:jr,combine:_r,compact:Ar,decode:wr,encode:Dr,isBuffer:Er,isRegExp:kr,maybeMap:Mr,merge:vr}});var _e=F((kt,De)=>{"use strict";var X=Z(),B=$(),Nr=Object.prototype.hasOwnProperty,Ae={brackets:function(r){return r+"[]"},comma:"comma",indices:function(r,a){return r+"["+a+"]"},repeat:function(r){return r}},_=Array.isArray,Cr=Array.prototype.push,ke=function(e,r){Cr.apply(e,_(r)?r:[r])},Lr=Date.prototype.toISOString,Ee=B.default,P={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:X.encode,encodeValuesOnly:!1,format:Ee,formatter:B.formatters[Ee],indices:!1,serializeDate:function(r){return Lr.call(r)},skipNulls:!1,strictNullHandling:!1},Hr=function(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r=="symbol"||typeof r=="bigint"},qr=function e(r,a,t,n,o,i,c,u,m,f,s,y,T,h){var d=r;if(typeof c=="function"?d=c(a,d):d instanceof Date?d=f(d):t==="comma"&&_(d)&&(d=X.maybeMap(d,function(O){return O instanceof Date?f(O):O})),d===null){if(n)return i&&!T?i(a,P.encoder,h,"key",s):a;d=""}if(Hr(d)||X.isBuffer(d)){if(i){var M=T?a:i(a,P.encoder,h,"key",s);return[y(M)+"="+y(i(d,P.encoder,h,"value",s))]}return[y(a)+"="+y(String(d))]}var k=[];if(typeof d=="undefined")return k;var S;if(t==="comma"&&_(d))S=[{value:d.length>0?d.join(",")||null:void 0}];else if(_(c))S=c;else{var p=Object.keys(d);S=u?p.sort(u):p}for(var x=0;x<S.length;++x){var l=S[x],v=typeof l=="object"&&l.value!==void 0?l.value:d[l];if(!(o&&v===null)){var A=_(d)?typeof t=="function"?t(a,l):a:a+(m?"."+l:"["+l+"]");ke(k,e(v,A,t,n,o,i,c,u,m,f,s,y,T,h))}}return k},Rr=function(r){if(!r)return P;if(r.encoder!==null&&r.encoder!==void 0&&typeof r.encoder!="function")throw new TypeError("Encoder has to be a function.");var a=r.charset||P.charset;if(typeof r.charset!="undefined"&&r.charset!=="utf-8"&&r.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=B.default;if(typeof r.format!="undefined"){if(!Nr.call(B.formatters,r.format))throw new TypeError("Unknown format option provided.");t=r.format}var n=B.formatters[t],o=P.filter;return(typeof r.filter=="function"||_(r.filter))&&(o=r.filter),{addQueryPrefix:typeof r.addQueryPrefix=="boolean"?r.addQueryPrefix:P.addQueryPrefix,allowDots:typeof r.allowDots=="undefined"?P.allowDots:!!r.allowDots,charset:a,charsetSentinel:typeof r.charsetSentinel=="boolean"?r.charsetSentinel:P.charsetSentinel,delimiter:typeof r.delimiter=="undefined"?P.delimiter:r.delimiter,encode:typeof r.encode=="boolean"?r.encode:P.encode,encoder:typeof r.encoder=="function"?r.encoder:P.encoder,encodeValuesOnly:typeof r.encodeValuesOnly=="boolean"?r.encodeValuesOnly:P.encodeValuesOnly,filter:o,format:t,formatter:n,serializeDate:typeof r.serializeDate=="function"?r.serializeDate:P.serializeDate,skipNulls:typeof r.skipNulls=="boolean"?r.skipNulls:P.skipNulls,sort:typeof r.sort=="function"?r.sort:null,strictNullHandling:typeof r.strictNullHandling=="boolean"?r.strictNullHandling:P.strictNullHandling}};De.exports=function(e,r){var a=e,t=Rr(r),n,o;typeof t.filter=="function"?(o=t.filter,a=o("",a)):_(t.filter)&&(o=t.filter,n=o);var i=[];if(typeof a!="object"||a===null)return"";var c;r&&r.arrayFormat in Ae?c=r.arrayFormat:r&&"indices"in r?c=r.indices?"indices":"repeat":c="indices";var u=Ae[c];n||(n=Object.keys(a)),t.sort&&n.sort(t.sort);for(var m=0;m<n.length;++m){var f=n[m];t.skipNulls&&a[f]===null||ke(i,qr(a[f],f,u,t.strictNullHandling,t.skipNulls,t.encode?t.encoder:null,t.filter,t.sort,t.allowDots,t.serializeDate,t.format,t.formatter,t.encodeValuesOnly,t.charset))}var s=i.join(t.delimiter),y=t.addQueryPrefix===!0?"?":"";return t.charsetSentinel&&(t.charset==="iso-8859-1"?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),s.length>0?y+s:""}});var Ce=F((Et,Me)=>{"use strict";var C=Z(),ee=Object.prototype.hasOwnProperty,Br=Array.isArray,b={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:C.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Kr=function(e){return e.replace(/&#(\d+);/g,function(r,a){return String.fromCharCode(parseInt(a,10))})},Ne=function(e,r){return e&&typeof e=="string"&&r.comma&&e.indexOf(",")>-1?e.split(","):e},zr="utf8=%26%2310003%3B",Ir="utf8=%E2%9C%93",Ur=function(r,a){var t={},n=a.ignoreQueryPrefix?r.replace(/^\?/,""):r,o=a.parameterLimit===Infinity?void 0:a.parameterLimit,i=n.split(a.delimiter,o),c=-1,u,m=a.charset;if(a.charsetSentinel)for(u=0;u<i.length;++u)i[u].indexOf("utf8=")===0&&(i[u]===Ir?m="utf-8":i[u]===zr&&(m="iso-8859-1"),c=u,u=i.length);for(u=0;u<i.length;++u)if(u!==c){var f=i[u],s=f.indexOf("]="),y=s===-1?f.indexOf("="):s+1,T,h;y===-1?(T=a.decoder(f,b.decoder,m,"key"),h=a.strictNullHandling?null:""):(T=a.decoder(f.slice(0,y),b.decoder,m,"key"),h=C.maybeMap(Ne(f.slice(y+1),a),function(d){return a.decoder(d,b.decoder,m,"value")})),h&&a.interpretNumericEntities&&m==="iso-8859-1"&&(h=Kr(h)),f.indexOf("[]=")>-1&&(h=Br(h)?[h]:h),ee.call(t,T)?t[T]=C.combine(t[T],h):t[T]=h}return t},$r=function(e,r,a,t){for(var n=t?r:Ne(r,a),o=e.length-1;o>=0;--o){var i,c=e[o];if(c==="[]"&&a.parseArrays)i=[].concat(n);else{i=a.plainObjects?Object.create(null):{};var u=c.charAt(0)==="["&&c.charAt(c.length-1)==="]"?c.slice(1,-1):c,m=parseInt(u,10);!a.parseArrays&&u===""?i={0:n}:!isNaN(m)&&c!==u&&String(m)===u&&m>=0&&a.parseArrays&&m<=a.arrayLimit?(i=[],i[m]=n):i[u]=n}n=i}return n},Vr=function(r,a,t,n){if(!!r){var o=t.allowDots?r.replace(/\.([^.[]+)/g,"[$1]"):r,i=/(\[[^[\]]*])/,c=/(\[[^[\]]*])/g,u=t.depth>0&&i.exec(o),m=u?o.slice(0,u.index):o,f=[];if(m){if(!t.plainObjects&&ee.call(Object.prototype,m)&&!t.allowPrototypes)return;f.push(m)}for(var s=0;t.depth>0&&(u=c.exec(o))!==null&&s<t.depth;){if(s+=1,!t.plainObjects&&ee.call(Object.prototype,u[1].slice(1,-1))&&!t.allowPrototypes)return;f.push(u[1])}return u&&f.push("["+o.slice(u.index)+"]"),$r(f,a,t,n)}},Gr=function(r){if(!r)return b;if(r.decoder!==null&&r.decoder!==void 0&&typeof r.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof r.charset!="undefined"&&r.charset!=="utf-8"&&r.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var a=typeof r.charset=="undefined"?b.charset:r.charset;return{allowDots:typeof r.allowDots=="undefined"?b.allowDots:!!r.allowDots,allowPrototypes:typeof r.allowPrototypes=="boolean"?r.allowPrototypes:b.allowPrototypes,arrayLimit:typeof r.arrayLimit=="number"?r.arrayLimit:b.arrayLimit,charset:a,charsetSentinel:typeof r.charsetSentinel=="boolean"?r.charsetSentinel:b.charsetSentinel,comma:typeof r.comma=="boolean"?r.comma:b.comma,decoder:typeof r.decoder=="function"?r.decoder:b.decoder,delimiter:typeof r.delimiter=="string"||C.isRegExp(r.delimiter)?r.delimiter:b.delimiter,depth:typeof r.depth=="number"||r.depth===!1?+r.depth:b.depth,ignoreQueryPrefix:r.ignoreQueryPrefix===!0,interpretNumericEntities:typeof r.interpretNumericEntities=="boolean"?r.interpretNumericEntities:b.interpretNumericEntities,parameterLimit:typeof r.parameterLimit=="number"?r.parameterLimit:b.parameterLimit,parseArrays:r.parseArrays!==!1,plainObjects:typeof r.plainObjects=="boolean"?r.plainObjects:b.plainObjects,strictNullHandling:typeof r.strictNullHandling=="boolean"?r.strictNullHandling:b.strictNullHandling}};Me.exports=function(e,r){var a=Gr(r);if(e===""||e===null||typeof e=="undefined")return a.plainObjects?Object.create(null):{};for(var t=typeof e=="string"?Ur(e,a):e,n=a.plainObjects?Object.create(null):{},o=Object.keys(t),i=0;i<o.length;++i){var c=o[i],u=Vr(c,t[c],a,typeof e=="string");n=C.merge(n,u,a)}return C.compact(n)}});var He=F((_t,Le)=>{"use strict";var Qr=_e(),Wr=Ce(),Jr=$();Le.exports={formats:Jr,parse:Wr,stringify:Qr}});var Re=F((Mt,qe)=>{"use strict";qe.exports=function(r,a){if(a=a.split(":")[0],r=+r,!r)return!1;switch(a){case"http":case"ws":return r!==80;case"https":case"wss":return r!==443;case"ftp":return r!==21;case"gopher":return r!==70;case"file":return!1}return r!==0}});var Ke=F(re=>{"use strict";var Yr=Object.prototype.hasOwnProperty,Zr;function Be(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(r){return null}}function Xr(e){for(var r=/([^=?&]+)=?([^&]*)/g,a={},t;t=r.exec(e);){var n=Be(t[1]),o=Be(t[2]);n===null||o===null||n in a||(a[n]=o)}return a}function et(e,r){r=r||"";var a=[],t,n;typeof r!="string"&&(r="?");for(n in e)if(Yr.call(e,n)){if(t=e[n],!t&&(t===null||t===Zr||isNaN(t))&&(t=""),n=encodeURIComponent(n),t=encodeURIComponent(t),n===null||t===null)continue;a.push(n+"="+t)}return a.length?r+a.join("&"):""}re.stringify=et;re.parse=Xr});var Ge=F((Ct,ze)=>{"use strict";var Ie=Re(),V=Ke(),rt=/^[A-Za-z][A-Za-z0-9+-.]*:[\\/]+/,tt=/^([a-z][a-z0-9.+-]*:)?([\\/]{1,})?([\S\s]*)/i,at="[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]",nt=new RegExp("^"+at+"+");function te(e){return(e||"").toString().replace(nt,"")}var ae=[["#","hash"],["?","query"],function(r){return r.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],Ue={hash:1,query:1};function $e(e){var r;typeof window!="undefined"?r=window:typeof global!="undefined"?r=global:typeof self!="undefined"?r=self:r={};var a=r.location||{};e=e||a;var t={},n=typeof e,o;if(e.protocol==="blob:")t=new D(unescape(e.pathname),{});else if(n==="string"){t=new D(e,{});for(o in Ue)delete t[o]}else if(n==="object"){for(o in e)o in Ue||(t[o]=e[o]);t.slashes===void 0&&(t.slashes=rt.test(e.href))}return t}function Ve(e){e=te(e);var r=tt.exec(e),a=r[1]?r[1].toLowerCase():"",t=!!(r[2]&&r[2].length>=2),n=r[2]&&r[2].length===1?"/"+r[3]:r[3];return{protocol:a,slashes:t,rest:n}}function it(e,r){if(e==="")return r;for(var a=(r||"/").split("/").slice(0,-1).concat(e.split("/")),t=a.length,n=a[t-1],o=!1,i=0;t--;)a[t]==="."?a.splice(t,1):a[t]===".."?(a.splice(t,1),i++):i&&(t===0&&(o=!0),a.splice(t,1),i--);return o&&a.unshift(""),(n==="."||n==="..")&&a.push(""),a.join("/")}function D(e,r,a){if(e=te(e),!(this instanceof D))return new D(e,r,a);var t,n,o,i,c,u,m=ae.slice(),f=typeof r,s=this,y=0;for(f!=="object"&&f!=="string"&&(a=r,r=null),a&&typeof a!="function"&&(a=V.parse),r=$e(r),n=Ve(e||""),t=!n.protocol&&!n.slashes,s.slashes=n.slashes||t&&r.slashes,s.protocol=n.protocol||r.protocol||"",e=n.rest,n.slashes||(m[3]=[/(.*)/,"pathname"]);y<m.length;y++){if(i=m[y],typeof i=="function"){e=i(e);continue}o=i[0],u=i[1],o!==o?s[u]=e:typeof o=="string"?~(c=e.indexOf(o))&&(typeof i[2]=="number"?(s[u]=e.slice(0,c),e=e.slice(c+i[2])):(s[u]=e.slice(c),e=e.slice(0,c))):(c=o.exec(e))&&(s[u]=c[1],e=e.slice(0,c.index)),s[u]=s[u]||t&&i[3]&&r[u]||"",i[4]&&(s[u]=s[u].toLowerCase())}a&&(s.query=a(s.query)),t&&r.slashes&&s.pathname.charAt(0)!=="/"&&(s.pathname!==""||r.pathname!=="")&&(s.pathname=it(s.pathname,r.pathname)),s.pathname.charAt(0)!=="/"&&s.hostname&&(s.pathname="/"+s.pathname),Ie(s.port,s.protocol)||(s.host=s.hostname,s.port=""),s.username=s.password="",s.auth&&(i=s.auth.split(":"),s.username=i[0]||"",s.password=i[1]||""),s.origin=s.protocol&&s.host&&s.protocol!=="file:"?s.protocol+"//"+s.host:"null",s.href=s.toString()}function ot(e,r,a){var t=this;switch(e){case"query":typeof r=="string"&&r.length&&(r=(a||V.parse)(r)),t[e]=r;break;case"port":t[e]=r,Ie(r,t.protocol)?r&&(t.host=t.hostname+":"+r):(t.host=t.hostname,t[e]="");break;case"hostname":t[e]=r,t.port&&(r+=":"+t.port),t.host=r;break;case"host":t[e]=r,/:\d+$/.test(r)?(r=r.split(":"),t.port=r.pop(),t.hostname=r.join(":")):(t.hostname=r,t.port="");break;case"protocol":t.protocol=r.toLowerCase(),t.slashes=!a;break;case"pathname":case"hash":if(r){var n=e==="pathname"?"/":"#";t[e]=r.charAt(0)!==n?n+r:r}else t[e]=r;break;default:t[e]=r}for(var o=0;o<ae.length;o++){var i=ae[o];i[4]&&(t[i[1]]=t[i[1]].toLowerCase())}return t.origin=t.protocol&&t.host&&t.protocol!=="file:"?t.protocol+"//"+t.host:"null",t.href=t.toString(),t}function st(e){(!e||typeof e!="function")&&(e=V.stringify);var r,a=this,t=a.protocol;t&&t.charAt(t.length-1)!==":"&&(t+=":");var n=t+(a.slashes?"//":"");return a.username&&(n+=a.username,a.password&&(n+=":"+a.password),n+="@"),n+=a.host+a.pathname,r=typeof a.query=="object"?e(a.query):a.query,r&&(n+=r.charAt(0)!=="?"?"?"+r:r),a.hash&&(n+=a.hash),n}D.prototype={set:ot,toString:st};D.extractProtocol=Ve;D.location=$e;D.trimLeft=te;D.qs=V;ze.exports=D});ce(exports);cr(exports,{executeFormulaOrSyncWithRawParams:()=>lt,executeSyncFormulaWithoutValidation:()=>Ye,findFormula:()=>er,findSyncFormula:()=>rr,tryFindFormula:()=>Ze,tryFindSyncFormula:()=>Xe,wrapError:()=>ie});var j;(function(e){e[e.string=0]="string",e[e.number=1]="number",e[e.object=2]="object",e[e.boolean=3]="boolean",e[e.date=4]="date",e[e.html=5]="html",e[e.image=6]="image"})(j||(j={}));function me(e){return e&&e.type==="array"&&typeof e.items=="number"}var ue;(function(e){e.Yesterday="yesterday",e.Last7Days="last_7_days",e.Last30Days="last_30_days",e.LastWeek="last_week",e.LastMonth="last_month",e.Last3Months="last_3_months",e.Last6Months="last_6_months",e.LastYear="last_year",e.Today="today",e.ThisWeek="this_week",e.ThisWeekStart="this_week_start",e.ThisMonth="this_month",e.ThisMonthStart="this_month_start",e.ThisYearStart="this_year_start",e.YearToDate="year_to_date",e.ThisYear="this_year",e.Tomorrow="tomorrow",e.Next7Days="next_7_days",e.Next30Days="next_30_days",e.NextWeek="next_week",e.NextMonth="next_month",e.Next3Months="next_3_months",e.Next6Months="next_6_months",e.NextYear="next_year",e.Everything="everything"})(ue||(ue={}));var fr=R(pe()),g;(function(e){e.Boolean="boolean",e.Number="number",e.String="string",e.Array="array",e.Object="object",e.Date="date",e.Time="time",e.DateTime="datetime",e.Duration="duration",e.Person="person",e.Percent="percent",e.Currency="currency",e.Image="image",e.Url="url",e.Markdown="markdown",e.Html="html",e.Embed="embed",e.Reference="reference",e.ImageAttachment="imageAttachment",e.Attachment="attachment",e.Slider="slider",e.Scale="scale"})(g||(g={}));var Pt=[g.Attachment,g.Date,g.Time,g.DateTime,g.Duration,g.Embed,g.Html,g.Image,g.ImageAttachment,g.Markdown,g.Url],Ot=[g.Date,g.Time,g.DateTime,g.Percent,g.Currency,g.Slider,g.Scale],Ft=[g.Person,g.Reference],ye;(function(e){e.Currency="currency",e.Accounting="accounting",e.Financial="financial"})(ye||(ye={}));var de;(function(e){e.Days="days",e.Hours="hours",e.Minutes="minutes",e.Seconds="seconds"})(de||(de={}));var he;(function(e){e[e.Text=1]="Text",e[e.Link=2]="Link",e[e.Image=3]="Image"})(he||(he={}));var ge;(function(e){e.Identity="I"})(ge||(ge={}));var ut=R(Te()),ft=R(Fe());var ct=R(He()),mt=R(Ge());function Q(e,r){throw new Error(r||`Unreachable code hit with value ${String(e)}`)}function Qe(e){return!pt(e)}function pt(e){return typeof e=="undefined"||e===null}function ne(e,r){let{parameters:a,varargParameters:t}=e,n=[],o=0;for(let i=0;i<r.length;i++){let c=a[i];if(c)n.push(We(c,r[i]));else if(t){let u=t[o];n.push(We(u,r[i])),o=(o+1)%t.length}else n.push(r[i])}return n}function We(e,r){if(!Qe(r))return r;if(me(e.type)){let a=r;return(a.length?a.split(","):[]).map(n=>Je(e.type.items,n.trim()))}return Je(e.type,r)}function Je(e,r){switch(e){case j.boolean:return(r||"").toLowerCase()==="true";case j.date:return new Date(r);case j.number:return Number(r);case j.object:return JSON.parse(r);case j.html:case j.image:case j.string:return r;default:return Q(e)}}async function Ye(e,r,a,t){let n=[],o=1;do{if(o>t)throw new Error(`Sync is still running after ${t} iterations, this is likely due to an infinite loop. If more iterations are needed, use the maxIterations option.`);let i;try{i=await e.execute(r,a)}catch(c){throw ie(c)}n.push(...i.result),a.sync.continuation=i.continuation,o++}while(a.sync.continuation);return n}async function lt(e,r,a,t){try{let n=Ze(e,r);if(n){let i=ne(n,a);return await n.execute(i,t)}let o=Xe(e,r);if(o){let i=ne(o,a);return await Ye(o,i,t,100)}}catch(n){throw ie(n)}}function er(e,r){let a=e.formulas;if(!a)throw new Error(`Pack definition for ${e.name} (id ${e.id}) has no formulas.`);let[t,n]=r.split("::");if(!(t&&n))throw new Error(`Formula names must be specified as FormulaNamespace::FormulaName, but got "${r}".`);let o=Array.isArray(a)?a:a[t];if(!o||!o.length)throw new Error(`Pack definition for ${e.name} (id ${e.id}) has no formulas for namespace "${t}".`);for(let i of o)if(i.name===n)return i;throw new Error(`Pack definition for ${e.name} (id ${e.id}) has no formula "${n}" in namespace "${t}".`)}function rr(e,r){if(!e.syncTables)throw new Error(`Pack definition for ${e.name} (id ${e.id}) has no sync tables.`);for(let a of e.syncTables){let t=a.getter;if(t.name===r)return t}throw new Error(`Pack definition for ${e.name} (id ${e.id}) has no sync formula "${r}" in its sync tables.`)}function Ze(e,r){try{return er(e,r)}catch(a){}}function Xe(e,r){try{return rr(e,r)}catch(a){}}function ie(e){return e.name==="TypeError"&&e.message==="Cannot read property 'body' of undefined"&&(e.message+="\nThis means your formula was invoked with a mock fetcher that had no response configured.\nThis usually means you invoked your formula from the commandline with `coda execute` but forgot to add the --fetch flag to actually fetch from the remote API."),e}
/*!
 * pascalcase <https://github.com/jonschlinkert/pascalcase>
 *
 * Copyright (c) 2015-present, Jon ("Schlink") Schlinkert.
 * Licensed under the MIT License.
 */
