---
nav: "SyncFormulaDef"
note: "This file is autogenerated from TypeScript definitions. Make edits to the comments in the TypeScript file and then run `make docs` to regenerate this file."
search:
  boost: 0.1
---
# Interface: SyncFormulaDef<K, L, ParamDefsT, SchemaT, ContextT, PermissionsContextT\>

[core](../modules/core.md).SyncFormulaDef

Inputs for creating the formula that implements a sync table.

## Type parameters

| Name | Type |
| :------ | :------ |
| `K` | extends `string` |
| `L` | extends `string` |
| `ParamDefsT` | extends [`ParamDefs`](../types/core.ParamDefs.md) |
| `SchemaT` | extends [`ObjectSchemaDefinition`](core.ObjectSchemaDefinition.md)<`K`, `L`\> |
| `ContextT` | extends [`SyncExecutionContext`](core.SyncExecutionContext.md)<`any`, `any`\> |
| `PermissionsContextT` | extends `SyncPassthroughData` |

## Hierarchy

- [`CommonPackFormulaDef`](core.CommonPackFormulaDef.md)<`ParamDefsT`\>

- `OnErrorFormulaOptions`

  ↳ **`SyncFormulaDef`**

## Properties

### cacheTtlSecs

• `Optional` `Readonly` **cacheTtlSecs**: `number`

How long formulas running with the same values should cache their results for.

#### Inherited from

[CommonPackFormulaDef](core.CommonPackFormulaDef.md).[cacheTtlSecs](core.CommonPackFormulaDef.md#cachettlsecs)

___

### connectionRequirement

• `Optional` `Readonly` **connectionRequirement**: [`ConnectionRequirement`](../enums/core.ConnectionRequirement.md)

Does this formula require a connection (aka an account)?

#### Inherited from

[CommonPackFormulaDef](core.CommonPackFormulaDef.md).[connectionRequirement](core.CommonPackFormulaDef.md#connectionrequirement)

___

### description

• `Readonly` **description**: `string`

A brief description of what the formula does.

#### Inherited from

[CommonPackFormulaDef](core.CommonPackFormulaDef.md).[description](core.CommonPackFormulaDef.md#description)

___

### examples

• `Optional` `Readonly` **examples**: { `params`: (`undefined` \| [`PackFormulaValue`](../types/core.PackFormulaValue.md))[] ; `result`: [`PackFormulaResult`](../types/core.PackFormulaResult.md)  }[]

Sample inputs and outputs demonstrating usage of this formula.

#### Inherited from

[CommonPackFormulaDef](core.CommonPackFormulaDef.md).[examples](core.CommonPackFormulaDef.md#examples)

___

### extraOAuthScopes

• `Optional` `Readonly` **extraOAuthScopes**: `string`[]

OAuth scopes that the formula needs that weren't requested in the pack's overall authentication
config. For example, a Slack pack can have one formula that needs admin privileges, but non-admins
can use the bulk of the pack without those privileges. Coda will give users help in understanding
that they need additional authentication to use a formula with extra OAuth scopes. Note that
these scopes will always be requested in addition to the default scopes for the pack,
so an end user must have both sets of permissions.

#### Inherited from

[CommonPackFormulaDef](core.CommonPackFormulaDef.md).[extraOAuthScopes](core.CommonPackFormulaDef.md#extraoauthscopes)

___

### isAction

• `Optional` `Readonly` **isAction**: `boolean`

Does this formula take an action (vs retrieve data or make a calculation)?
Actions are presented as buttons in the Coda UI.

#### Inherited from

[CommonPackFormulaDef](core.CommonPackFormulaDef.md).[isAction](core.CommonPackFormulaDef.md#isaction)

___

### isExperimental

• `Optional` `Readonly` **isExperimental**: `boolean`

If specified, the formula will not be suggested to users in Coda's formula autocomplete.
The formula can still be invoked by manually typing its full name.

#### Inherited from

[CommonPackFormulaDef](core.CommonPackFormulaDef.md).[isExperimental](core.CommonPackFormulaDef.md#isexperimental)

___

### isSystem

• `Optional` `Readonly` **isSystem**: `boolean`

Whether this is a formula that will be used by Coda internally and not exposed directly to users.
Not for use by packs that are not authored by Coda.

#### Inherited from

[CommonPackFormulaDef](core.CommonPackFormulaDef.md).[isSystem](core.CommonPackFormulaDef.md#issystem)

___

### maxUpdateBatchSize

• `Optional` **maxUpdateBatchSize**: `number`

If the table supports object updates, the maximum number of objects that will be sent to the pack
in a single batch. Defaults to 1 if not specified.

___

### name

• `Readonly` **name**: `string`

The name of the formula, used to invoke it.

#### Inherited from

[CommonPackFormulaDef](core.CommonPackFormulaDef.md).[name](core.CommonPackFormulaDef.md#name)

___

### network

• `Optional` `Readonly` **network**: [`Network`](core.Network.md)

**`Deprecated`**

use `isAction` and `connectionRequirement` instead

#### Inherited from

[CommonPackFormulaDef](core.CommonPackFormulaDef.md).[network](core.CommonPackFormulaDef.md#network)

___

### parameters

• `Readonly` **parameters**: `ParamDefsT`

The parameter inputs to the formula, if any.

#### Inherited from

[CommonPackFormulaDef](core.CommonPackFormulaDef.md).[parameters](core.CommonPackFormulaDef.md#parameters)

___

### validateParameters

• `Optional` **validateParameters**: [`MetadataFormula`](../types/core.MetadataFormula.md)<[`SyncExecutionContext`](core.SyncExecutionContext.md)<[`Continuation`](core.Continuation.md), [`Continuation`](core.Continuation.md), [`Continuation`](core.Continuation.md)\>, `ParameterValidationResult`\>

The JavaScript function that implements parameter validation.
For sync tables, the execution context will include a `sync` field.

#### Overrides

[CommonPackFormulaDef](core.CommonPackFormulaDef.md).[validateParameters](core.CommonPackFormulaDef.md#validateparameters)

___

### varargParameters

• `Optional` `Readonly` **varargParameters**: [`ParamDefs`](../types/core.ParamDefs.md)

Variable argument parameters, used if this formula should accept arbitrary
numbers of inputs.

#### Inherited from

[CommonPackFormulaDef](core.CommonPackFormulaDef.md).[varargParameters](core.CommonPackFormulaDef.md#varargparameters)

## Methods

### execute

▸ **execute**<`ContextReturnT`\>(`params`, `context`): `Promise`<[`SyncFormulaResult`](core.SyncFormulaResult.md)<`K`, `L`, `SchemaT`, `ContextReturnT`, `PermissionsContextT`\>\>

The JavaScript function that implements this sync.

This function takes in parameters and a sync context which may have a continuation
from a previous invocation, and fetches and returns one page of results, as well
as another continuation if there are more result to fetch.

#### Type parameters

| Name | Type |
| :------ | :------ |
| `ContextReturnT` | extends [`SyncExecutionContext`](core.SyncExecutionContext.md)<`any`, `any`, `any`\> |

#### Parameters

| Name | Type |
| :------ | :------ |
| `params` | [`ParamValues`](../types/core.ParamValues.md)<`ParamDefsT`\> |
| `context` | `ContextT` |

#### Returns

`Promise`<[`SyncFormulaResult`](core.SyncFormulaResult.md)<`K`, `L`, `SchemaT`, `ContextReturnT`, `PermissionsContextT`\>\>

___

### executeUpdate

▸ `Optional` **executeUpdate**(`params`, `updates`, `context`): `Promise`<[`SyncUpdateResult`](core.SyncUpdateResult.md)<`K`, `L`, `SchemaT`\>\>

The JavaScript function that implements this sync update if the table supports updates.

This function takes in parameters, updated sync table objects, and a sync context,
and is responsible for pushing those updated objects to the external system then returning
the new state of each object.

#### Parameters

| Name | Type |
| :------ | :------ |
| `params` | [`ParamValues`](../types/core.ParamValues.md)<`ParamDefsT`\> |
| `updates` | [`SyncUpdate`](core.SyncUpdate.md)<`K`, `L`, `SchemaT`\>[] |
| `context` | [`UpdateSyncExecutionContext`](core.UpdateSyncExecutionContext.md) |

#### Returns

`Promise`<[`SyncUpdateResult`](core.SyncUpdateResult.md)<`K`, `L`, `SchemaT`\>\>

___

### onError

▸ `Optional` **onError**(`error`): `any`

If specified, will catch errors in the [execute](core.SyncFormulaDef.md#execute) function and call this
function with the error, instead of letting them throw and the formula failing.

This is helpful for writing common error handling into a singular helper function
that can then be applied to many different formulas in a pack.

#### Parameters

| Name | Type |
| :------ | :------ |
| `error` | `Error` |

#### Returns

`any`

#### Inherited from

OnErrorFormulaOptions.onError
